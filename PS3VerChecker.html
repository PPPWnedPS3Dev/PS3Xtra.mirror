<script>
    function checkCompatibility() {
        var firmware = document.getElementById('firmware').value;
        var serial = document.getElementById('serial').value.toUpperCase();
        var result = document.getElementById('result');

        // Check firmware compatibility
        if (firmware !== "4.92") {
            result.innerHTML = "❌ Only firmware 4.92 is supported for this compatibility check.";
            result.className = "result not-compatible";
            return;
        }

        // List of models fully compatible with CFW
        var cfwModels = [
            'CECHAxx', 'CECHBxx', 'CECHCxx', 'CECHDxx', 'CECHExx', 'CECHFxx', 'CECHGxx',
            'CECHHxx', 'CECHIxx', 'CECHJxx', 'CECHKxx', 'CECHLxx', 'CECHMxx', 'CECHNxx',
            'CECHOxx', 'CECHPxx', 'CECHQxx', 'CECH-20xxA', 'CECH-20xxB', 'CECH-21xxA',
            'CECH-21xxB', 'CECH-25xxA', 'CECH-25xxB', 'CECH-2504A', 'CECH-2504B'
        ];

        // List of models compatible with PS3HEN only
        var henModels = [
            'CECH-30xxA', 'CECH-30xxB', 'CECH-40xxA', 'CECH-40xxB', 'CECH-40xxC',
            'CECH-42xxA', 'CECH-42xxB', 'CECH-42xxC', 'CECH-43xxA', 'CECH-43xxB', 'CECH-43xxC'
        ];

        if (cfwModels.indexOf(serial) !== -1) {
            result.innerHTML = "✔️ Your console is compatible with CFW for firmware 4.92!";
            result.className = "result compatible";
        } else if (henModels.indexOf(serial) !== -1) {
            result.innerHTML = "❌ Your console is not compatible with the PS3 CFW. But don't worry, you can use PS3HEN on firmware 4.92!";
            result.className = "result not-compatible";
        } else {
            result.innerHTML = "❌ Your console is not compatible with the PS3 CFW. But don't worry, you can use PS3HEN on firmware 4.92!";
            result.className = "result not-compatible";
        }
    }
</script>
